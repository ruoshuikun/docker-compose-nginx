function u(r,e="auto",o=2){const i=["B","KB","MB","GB","TB","PB"];let s=r*1024,n=0,t=s;if(e==="auto")for(;t>=1024&&n<i.length-1;)t/=1024,n++;else{if(n=i.indexOf(e.toUpperCase()),n===-1)throw new Error("无效的目标单位");t=s;for(let f=0;f<n;f++)t/=1024}return t=Number(t.toFixed(o)),{value:t,unit:i[n],formatted:`${t} ${i[n]}`}}function c(r,e={}){try{return typeof r!="string"?(console.warn("Expected string but got:",typeof r),e):JSON.parse(r)}catch(o){return console.error("Failed to parse JSON:",o.message),e}}function a(r){const e=r.match(/(.+)\.([^.]+)$/);if(e){const[,o,i]=e;return{fileName:o||"",fileSuffix:i||""}}return{fileName:"",fileSuffix:""}}export{u as c,a as e,c as s};
